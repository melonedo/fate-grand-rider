# tmx地图格式说明
## 分层
为确保渲染顺序，地图至少分为前景和背景两层，前景会显示在角色前方，背景会显示在角色后方。由于cocos2d-x不支持获取所有层的名字，需要在地图中添加`fg-layers`和`bg-layers`属性，内容为空格分割的各个前景层、背景层的名字。
另有一层`invisible`在加载地图时会设置为不可见，用以方便设置附加信息。对象应该置于`obj`层中。
## 地图布局
所有的通道和门都应是5格宽，房间都是长方形。
## 附加信息
为了实现代码和地图的互动，在特殊图块上有`type`属性，程序在读取地图时会绑定对应的代码，所有具有`type`属性的图块都具有相同大小的方行碰撞箱，`type`的常见取值包括：
* `wall`代表墙壁，不可穿越不可破坏。
* `gate`代表门，可单向穿越，进入后开始关卡，不再可以穿越。为了保证可以被正常关闭，门应放在房间的边界上。
* `chest`代表宝箱，互动时会生成掉落物。
* `room`代表房间的内侧，地图处理时会扫描room所在区域的边界而生成房间信息。
